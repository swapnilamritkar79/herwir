{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template block_mycourses/available-view

    This template renders the available view for the myoverview block.

    Example context (json):
    {}
}}

 <link rel="stylesheet" type="text/css" href="{{availableview.wwwroot}}/blocks/mycourses/slick/slick.css">
 <link rel="stylesheet" type="text/css" href="{{availableview.wwwroot}}/blocks/mycourses/slick/slick-theme.css">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.css">
 <link rel="stylesheet" href="{{availableview.wwwroot}}/blocks/mycourses/scss/wirehouse.css">


<div class="responsive-hold">
	 
	<div class="responsive slick-initialized slick-slider">
		<button class="slick-prev slick-arrow slick-disabled" aria-label="Previous" type="button" aria-disabled="true" style="display: block;">Previous</button>
		<div class="slick-list draggable">
		{{#availableview.allcourses}}
			<div class="slick-track" style="opacity: 1; width: 4950px; transform: translate3d(0px, 0px, 0px);">
				<div class="slick-slide slick-current slick-active" data-slick-index="{{cnt}}" aria-hidden="false" style="width: 450px;">
					<div>
						<div class="coursehold" style="width: 100%; display: inline-block;">
							<img src="{{ image }}" alt="" title="">

							<div class="courecontent">
								<div class="statusebar">
									<div class="bar" style="width:100%"/>
								</div>
								<div class="name"><a href="{{ url }}">{{ fullname }}</a></div>
								<div class="dec ">{{ summary}}</div>
								<div class="price">${{price}}</div>
								<div class="add-cart-action">
									<a href="{{ carturl }}">
									<label class="container">Add to cart
									
									</label></a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			{{/availableview.allcourses}}
		</div>
	</div>
</div>
					


<script src="{{availableview.wwwroot}}/blocks/mycourses/slick/slick.js" type="text/javascript" charset="utf-8"></script>
  <script src="{{availableview.wwwroot}}/blocks/mycourses/slick/jquery.ellipsis.js" type="text/javascript" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.js" type="text/javascript" charset="utf-8"></script>
    <script src="https://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script>
{{#js}}
require(['jquery', 'core/custom_interaction_events'], function($, customEvents) {
    var root = $('#available-view-{{uniqid}}');
    customEvents.define(root, [customEvents.events.activate]);
    root.on(customEvents.events.activate, '[data-toggle="btns"] > .btn', function() {
        root.find('.btn.active').removeClass('active');
    });
});



  

    $(document).on('ready', function () {
      

      $('.responsive').slick({
        dots: false,
        infinite: false,
        speed: 300,
        slidesToShow: 4,
        slidesToScroll: 4,
        responsive: [
          {
            breakpoint: 1024,
            settings: {
              slidesToShow: 3,
              slidesToScroll: 3,
              infinite: true,
              dots: true
            }
          }
          // You can unslick at a given breakpoint now by adding:
          // settings: "unslick"
          // instead of a settings object
        ]
      });

      $("#cart").on("click", function () {
        $(".shopping-cart").fadeToggle("fast");
        $('.course-dec').ellipsis({ responsive: true });
      });

    });

    (function ($) {


      /*$(window).on("load", function () {
        $(".content, .content1").mCustomScrollbar(
          {

            scrollInertia: 0,
          }


        );
      });*/

    })(jQuery);


    $(window).resize(function () {

      $('.course-dec').ellipsis({ responsive: true });

    });

 
{{/js}}
